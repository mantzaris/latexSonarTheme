%good to have
\usepackage{graphicx}

%always on hand
\usepackage{eucal}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}

%margins \usepackage[margin=1.1cm]{geometry}
\usepackage[margin=0.5in, headheight=3pt, footskip=2pt]{geometry}

%bibliography
\usepackage{natbib}
%\bibliographystyle{plain}




%pagenumber position from 'footskip' and configure the page numbers
\setlength{\footskip}{20pt}
\usepackage{fancyhdr}
\usepackage{lastpage}


%% Define plain style for title page
\fancypagestyle{plain}{%
  \fancyhf{} % Clear all headers and footers
  \renewcommand{\headrulewidth}{0pt} % Remove header rule
  \renewcommand{\footrulewidth}{0pt} % Remove footer rule
}

%%
\pagestyle{fancy}
\fancyhf{}
\fancyhead{}
\fancyhead[LE,LO]{\vspace{7pt}\textcolor{gray}{ \csname @title\endcsname }}
% authors at top\fancyhead[RE,RO]{\vspace{7pt}\textcolor{gray}{ \csname @author\endcsname}}%\Author}}% \leftmark}}
\fancyhead[RE,RO]{} %no authors on header
\rfoot{\vspace{.51pt}\Large \textcolor{gray}{Page \thepage \hspace{0.5pt} of \pageref{LastPage}}}

\renewcommand{\maketitle}{%
  \begin{titlepage}
    \thispagestyle{plain}% Remove page number from title page
    \let\footnotesize\small
    \let\footnoterule\relax
    \let\footnote\thanks
    \null\vfil
    \vskip 60\p@
    \begin{center}%
      {\LARGE \@title \par}%
      \vskip 3em%
      {\large
        \lineskip .75em%
        \begin{tabular}[t]{c}%
          \@author
        \end{tabular}\par}%
      \vskip 1.5em%
      {\large \@date \par}%
    \end{center}\par
    \@thanks
    \vfil\null
  \end{titlepage}%
  \setcounter{footnote}{0}%
  \global\let\thanks\relax
  \global\let\maketitle\relax
  \global\let\@thanks\@empty
  \global\let\@author\@empty
  \global\let\@date\@empty
  \global\let\@title\@empty
  \global\let\title\relax
  \global\let\author\relax
  \global\let\date\relax
  \global\let\and\relax
}
%%





%multicol params
\usepackage{lipsum}
\setlength{\columnsep}{1.2cm}

%fonts
\usepackage{xcolor}
\usepackage[T1]{fontenc}
\usepackage{lxfonts}
%\usepackage{cmbright}


%colors
\color{green}
\pagecolor{black}

%section header adjustments
\usepackage{xcolor}
\usepackage{sectsty}
\sectionfont{\color{lightgray}}
\subsectionfont{\color{lightgray}}
\subsubsectionfont{\color{lightgray}}

%set the itemize list separations
\usepackage{paralist}
\let\itemize\compactitem
\let\enditemize\endcompactitem
\let\enumerate\compactenum
\let\endenumerate\endcompactenum
\let\description\compactdesc
\let\enddescription\endcompactdesc
\pltopsep=3pt
\plitemsep=1pt
\plparsep=1pt

%item face symbol
\renewcommand{\labelitemi}{\large $\diamond$}
\renewcommand{\labelitemii}{$\diamond$}

%spacing between caption and figure
\usepackage[font=small,skip=2pt]{caption}

%framing all figures
\usepackage[framestyle=fbox,framefit=yes,heightadjust=all,framearound=all]{floatrow} 

%Changing some important fonts that help the clarity (the code here is taken from the SO tex post https://tex.stackexchange.com/q/8434/1026, which the answer used borrows from cmbright.sty)
\DeclareSymbolFont      {operators} {OT1}{cmbr}{m}{n}
\DeclareSymbolFont        {letters} {OML}{cmbrm}{m}{it}
\SetSymbolFont      {letters}{bold} {OML}{cmbrm}{b}{it}
\DeclareSymbolFont        {symbols} {OMS}{cmbrs}{m}{n}
\DeclareMathAlphabet{\mathit} {OT1}{cmbr}{m}{sl}
\DeclareMathAlphabet{\mathbf} {OT1}{cmbr}{bx}{n}
\DeclareMathAlphabet{\mathtt} {OT1}{cmtl}{m}{n}
\DeclareMathAlphabet{\mathbold}{OML}{cmbrm}{b}{it}
\DeclareMathSymbol{\alpha}{\mathalpha}{letters}{11}
\DeclareMathSymbol{\beta}{\mathalpha}{letters}{12}
\DeclareMathSymbol{\gamma}{\mathalpha}{letters}{13}
\DeclareMathSymbol{\delta}{\mathalpha}{letters}{14}
\DeclareMathSymbol{\epsilon}{\mathalpha}{letters}{15}

%The sizes of the math font chosen for each text size as a conditional; eg. \DeclareMathSizes{12}{20}{14}{10}  % For size 12 text
\DeclareMathSizes{9}{12}{6}{4}
\DeclareMathSizes{10.0}{14}{7}{5}
\DeclareMathSizes{11}{14}{10}{6}      % For size 11 text
\DeclareMathSizes{12}{16}{12}{8}     % For size 12 text

%equation number size
\makeatletter
\def\maketag@@@#1{\hbox{\m@th\normalfont\large#1}}
\makeatother



%%%%%%%%%%%%%%%%%%%%
%making a title page

% Add these lines to your preamble
\RequirePackage{titlesec} % To customize the section title spacing
\usepackage{titling}
\usepackage{varwidth}
% ...

\renewcommand\maketitlehooka{%
  \noindent\vrule height 2.5pt width \textwidth
}

\let\oldauthor\author
\renewcommand{\author}[1]{\oldauthor{\begin{varwidth}{\linewidth}\centering\strut#1\strut\end{varwidth}}}


% Customize the title page
\pretitle{% add some rules
  \begin{center}
    \Huge\bfseries\color{lightgray}
}%, make the fonts bigger, make the title (only) bold
\posttitle{%
  \end{center}%
  \noindent\vrule height 2.5pt width \textwidth
  \vskip .75em plus .25em minus .25em% increase the vertical spacing a bit, make this particular glue stretchier
}
\predate{%
  \begin{center}
    \Large
}
\postdate{%
  \end{center}%
}

% SHORT TITLE

% Define a new command to store the short title
\makeatletter
\newcommand{\@shorttitle}{}
\newcommand{\shorttitle}[1]{\renewcommand{\@shorttitle}{#1}}
\makeatother

\setlength{\headheight}{2pt} % You may need to adjust this value

\fancyhf{}
\fancyhead{}
\makeatletter
\fancyhead[LE,LO]{\textcolor{gray}{\@shorttitle}}
\makeatother
\fancyhead[RE,RO]{}
\rfoot{\Large \textcolor{gray}{Page \thepage \hspace{0.5pt} of \pageref{LastPage}}}

